(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[533],{1469:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return o},getImageProps:function(){return i}});let a=r(8229),n=r(8883),s=r(3063),l=a._(r(1193));function i(e){let{props:t}=(0,n.getImgProps)(e,{defaultLoader:l.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let o=s.Image},3999:(e,t,r)=>{"use strict";r.d(t,{cn:()=>s});var a=r(2596),n=r(9688);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.QP)((0,a.$)(t))}},4416:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},6190:(e,t,r)=>{Promise.resolve().then(r.bind(r,8252))},6766:(e,t,r)=>{"use strict";r.d(t,{default:()=>n.a});var a=r(1469),n=r.n(a)},7168:(e,t,r)=>{"use strict";r.d(t,{$:()=>c});var a=r(5155),n=r(2115),s=r(4624),l=r(2085),i=r(3999);let o=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef((e,t)=>{let{className:r,variant:n,size:l,asChild:c=!1,...d}=e,u=c?s.DX:"button";return(0,a.jsx)(u,{className:(0,i.cn)(o({variant:n,size:l,className:r})),ref:t,...d})});c.displayName="Button"},8252:(e,t,r)=>{"use strict";r.d(t,{default:()=>u});var a=r(5155),n=r(2115),s=r(6766),l=r(9946);let i=(0,l.A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),o=(0,l.A)("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);var c=r(4416),d=r(7168);function u(){let[e,t]=(0,n.useState)([]),[r,l]=(0,n.useState)([]),[u,h]=(0,n.useState)(!0),[g,m]=(0,n.useState)(null),[f,x]=(0,n.useState)(null),[v,p]=(0,n.useState)(""),[y,w]=(0,n.useState)(new Set),[b,j]=(0,n.useState)(!0),[k,N]=(0,n.useState)(0),C=(0,n.useRef)(null),E=(0,n.useRef)(null),S=e=>{let t;let r=/<img[^>]+src="([^">]+)"/g,a=[];for(;null!==(t=r.exec(e));){let e=t[1];e.includes("blogger.googleusercontent.com")&&(e=e.replace(/\/s\d+(-c)?\//,"/s1600/")),a.push(e)}return a};(0,n.useEffect)(()=>{(async()=>{try{h(!0);let e=await fetch("https://api.allorigins.win/get?url="+encodeURIComponent("https://gallery-dps.blogspot.com/feeds/posts/default?alt=json"));if(!e.ok)throw Error("Failed to fetch blog posts: ".concat(e.status));let r=await e.json(),a=JSON.parse(r.contents),n=[];a.feed&&a.feed.entry&&a.feed.entry.forEach(e=>{var t,r,a;let s=(null===(t=e.content)||void 0===t?void 0:t.$t)||"",l=(null===(r=e.title)||void 0===r?void 0:r.$t)||"Gallery Image",i=(null===(a=e.published)||void 0===a?void 0:a.$t)||"";S(s).forEach((e,t)=>{n.push({url:e,alt:"".concat(l," - Image ").concat(t+1),date:i?new Date(i).toLocaleDateString():void 0})})}),t(n),l(n.slice(0,16)),setTimeout(()=>{j(!1)},500)}catch(e){console.error("Error fetching blog posts:",e),m("Failed to load gallery. Please try again later.")}finally{h(!1)}})()},[]),(0,n.useEffect)(()=>{let t=()=>{if(C.current&&r.length<e.length&&C.current.getBoundingClientRect().bottom<=window.innerHeight+600){let t=e.slice(r.length,r.length+8);l(e=>[...e,...t])}};return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)},[r,e]);let z=(0,n.useCallback)((e,t,r)=>{x(e),p(t),N(r),document.body.style.overflow="hidden"},[]),L=(0,n.useCallback)(()=>{x(null),document.body.style.overflow="auto"},[]),_=(0,n.useCallback)(()=>{if(0===e.length)return;let t=(k-1+e.length)%e.length;N(t),x(e[t].url),p(e[t].alt)},[e,k]),P=(0,n.useCallback)(()=>{if(0===e.length)return;let t=(k+1)%e.length;N(t),x(e[t].url),p(e[t].alt)},[e,k]);(0,n.useEffect)(()=>{let e=e=>{f&&("Escape"===e.key&&L(),"ArrowLeft"===e.key&&_(),"ArrowRight"===e.key&&P())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[f,L,_,P]);let A=(e,t)=>{w(t=>new Set(t).add(e));let r=t.target,a=r.naturalHeight/r.naturalWidth,n=r.closest(".masonry-brick");if(n){let e=Math.ceil(20*a)+1;n.style.gridRowEnd="span ".concat(e)}};return((0,n.useEffect)(()=>(C.current&&!b&&(E.current=new ResizeObserver(()=>{var e;((null===(e=C.current)||void 0===e?void 0:e.querySelectorAll(".masonry-brick"))||[]).forEach(e=>{let t=e.querySelector("img");if(t&&t.complete){let r=Math.ceil(20*(t.naturalHeight/t.naturalWidth))+1;e.style.gridRowEnd="span ".concat(r)}})}),E.current.observe(C.current)),()=>{E.current&&E.current.disconnect()}),[b]),u&&b)?(0,a.jsxs)("div",{className:"flex flex-col justify-center items-center py-20",children:[(0,a.jsx)(i,{className:"h-12 w-12 text-primary animate-spin mb-4"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Loading gallery images..."})]}):g?(0,a.jsx)("div",{className:"text-center py-12",children:(0,a.jsxs)("div",{className:"bg-red-50 dark:bg-red-900/20 p-6 rounded-lg max-w-md mx-auto",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-red-800 dark:text-red-200 mb-2",children:"Gallery Error"}),(0,a.jsx)("p",{className:"text-red-600 dark:text-red-300",children:g}),(0,a.jsx)(d.$,{onClick:()=>window.location.reload(),variant:"outline",className:"mt-4",children:"Try Again"})]})}):0!==e.length||u?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"masonry-grid",ref:C,children:r.map((e,t)=>(0,a.jsx)("div",{className:"masonry-brick animate-in fade-in",style:{animationDelay:"".concat(t%8*.1,"s"),opacity:y.has(e.url)||b?1:0},onClick:()=>z(e.url,e.alt,r.indexOf(e)),children:(0,a.jsxs)("div",{className:"masonry-content",children:[(0,a.jsxs)("div",{className:"masonry-image-wrapper",children:[!y.has(e.url)&&!b&&(0,a.jsx)("div",{className:"absolute inset-0 bg-gray-100 dark:bg-gray-800 animate-pulse rounded-lg"}),(0,a.jsx)(s.default,{src:e.url||"/placeholder.svg",alt:e.alt,width:500,height:350,sizes:"(max-width: 640px) 100vw, (max-width: 768px) 50vw, (max-width: 1024px) 33vw, 25vw",className:"masonry-image ".concat(y.has(e.url)?"loaded":"loading"),loading:"lazy",onLoad:t=>A(e.url,t)}),(0,a.jsx)("div",{className:"masonry-overlay",children:(0,a.jsx)(o,{className:"text-white h-8 w-8"})})]}),e.date&&(0,a.jsx)("div",{className:"masonry-caption",children:(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.date})})]})},"image-".concat(t)))}),r.length<e.length&&(0,a.jsxs)("div",{className:"flex justify-center items-center py-8",children:[(0,a.jsx)(i,{className:"h-8 w-8 text-primary animate-spin"}),(0,a.jsx)("span",{className:"ml-2 text-muted-foreground",children:"Loading more images..."})]}),f&&(0,a.jsxs)("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4 animate-in fade-in duration-300",onClick:L,children:[(0,a.jsxs)(d.$,{variant:"ghost",size:"icon",className:"absolute top-4 right-4 text-white hover:bg-white/20",onClick:L,children:[(0,a.jsx)(c.A,{className:"h-6 w-6"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]}),(0,a.jsxs)(d.$,{variant:"ghost",size:"icon",className:"absolute left-4 top-1/2 -translate-y-1/2 text-white hover:bg-white/20 rounded-full",onClick:e=>{e.stopPropagation(),_()},children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-6 w-6",children:(0,a.jsx)("polyline",{points:"15 18 9 12 15 6"})}),(0,a.jsx)("span",{className:"sr-only",children:"Previous image"})]}),(0,a.jsxs)(d.$,{variant:"ghost",size:"icon",className:"absolute right-4 top-1/2 -translate-y-1/2 text-white hover:bg-white/20 rounded-full",onClick:e=>{e.stopPropagation(),P()},children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-6 w-6",children:(0,a.jsx)("polyline",{points:"9 18 15 12 9 6"})}),(0,a.jsx)("span",{className:"sr-only",children:"Next image"})]}),(0,a.jsx)("div",{className:"max-w-5xl max-h-[90vh] relative animate-in zoom-in duration-300",onClick:e=>e.stopPropagation(),children:(0,a.jsx)(s.default,{src:f||"/placeholder.svg",alt:v,width:1200,height:800,className:"object-contain max-h-[90vh] rounded-lg",priority:!0})})]})]}):(0,a.jsx)("div",{className:"text-center py-12",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"No gallery images found. Please check back later."})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[63,497,441,684,358],()=>t(6190)),_N_E=e.O()}]);